/* =====================================
   M1 — Life Track 2.0 + Pawn (CSS only)
   - Pozycjonowanie pionka po atrybucie data-active-index (0..6)
   - Pasek postępu między węzłami (bez JS)
   - Stany węzłów: data-complete, data-active
   ===================================== */

/* Używa tokenów z :root (patrz board.css/tokens) */
.life-track{ 
  --node: 64px;           /* średnica węzła */
  --pos: 0%;              /* pozycja pionka i progressu (ustawiana niżej regułami [data-active-index]) */
  position: relative;
}

/* Responsywne skalowanie węzłów */
@media (max-width: 1100px){ .life-track{ --node: 58px } }
@media (max-width: 900px){  .life-track{ --node: 52px } }
@media (max-width: 720px){  .life-track{ --node: 46px } }

/* Linia bazowa */
.life-track::before{
  content: ""; position:absolute; left:0; right:0; top:50%; transform: translateY(-50%);
  height: 10px; border-radius:999px;
  background: linear-gradient(180deg, #eaf6ff, #d9e9f6);
  border:1px solid #cfe2ef; box-shadow: inset 0 2px 0 rgba(255,255,255,.8);
}
/* Progress do aktywnego indexu */
.life-track::after{
  content: ""; position:absolute; left:0; top:50%; transform: translateY(-50%);
  width: var(--pos); height: 10px; border-radius:999px;
  background: linear-gradient(180deg, #bde8cc, #88d7aa);
  border:1px solid #74c69d; box-shadow: inset 0 2px 0 rgba(255,255,255,.7);
}

/* Węzły (nadpisuje minimalnie styl z board.css) */
.life-track .node{
  width: var(--node); height: var(--node);
  border-radius:50%; position:relative; z-index:1; /* nad linią */
  background: radial-gradient(circle at 30% 30%, #ffffff, #eef9f3 55%, #d9f3e9);
  border:2px solid #a6e3c8; box-shadow: 0 6px 18px rgba(0,0,0,.10), inset 0 2px 0 rgba(255,255,255,.8);
}
/* Węzły zaliczone */
.life-track .node[data-complete="true"]{
  border-color:#74c69d; box-shadow: 0 6px 18px rgba(0,0,0,.10), 0 0 0 6px rgba(116,198,157,.22), inset 0 2px 0 rgba(255,255,255,.85);
}
/* Węzeł aktywny */
.life-track .node[data-active="true"]{
  border-color:#67c7d9; box-shadow: 0 8px 22px rgba(0,0,0,.12), 0 0 0 8px rgba(103,199,217,.22), inset 0 2px 0 rgba(255,255,255,.9);
  transform: scale(1.04);
}

/* Pionek gracza */
.pawn{
  position:absolute; top:50%; left: var(--pos); transform: translate(-50%, -50%);
  width: calc(var(--node) + 8px); height: calc(var(--node) + 8px); border-radius:50%;
  background:
    radial-gradient(40% 40% at 30% 30%, #ffffff, #e9fff5 55%, #c9f4e3),
    radial-gradient(70% 70% at 60% 70%, rgba(121,230,191,.35), transparent 60%);
  border:2px solid #53c7a5;
  box-shadow: 0 10px 24px rgba(0,0,0,.18), 0 0 0 6px rgba(121,230,191,.25);
  animation: pawn-bob 3.8s ease-in-out infinite;
}
.pawn::after{
  content:""; position:absolute; inset:-6px; border-radius:50%; pointer-events:none;
  background: radial-gradient(60% 60% at 50% 40%, rgba(121,230,191,.22), transparent 70%);
  filter: blur(4px);
}

/* Mapowanie indexu (7 węzłów => 0..6) */
.life-track[data-active-index="0"]{ --pos: 0%; }
.life-track[data-active-index="1"]{ --pos: 16.666%; }
.life-track[data-active-index="2"]{ --pos: 33.333%; }
.life-track[data-active-index="3"]{ --pos: 50%; }
.life-track[data-active-index="4"]{ --pos: 66.666%; }
.life-track[data-active-index="5"]{ --pos: 83.333%; }
.life-track[data-active-index="6"]{ --pos: 100%; }

/* Drobny cień pod węzłami nad progress-barem (paralaksa) */
.life-track .node::after{
  content:""; position:absolute; inset:0; border-radius:50%; pointer-events:none;
  background: radial-gradient(70% 60% at 50% 70%, rgba(0,0,0,.10), transparent 70%);
  transform: translateY(12%);
}

/* Animacje */
@keyframes pawn-bob { 0%,100%{ transform: translate(-50%,-50%) } 50%{ transform: translate(-50%,-56%) } }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){ .pawn{ animation:none } }

